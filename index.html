<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Malha â€” OSRM + RC</title>
  <link rel="icon" href="data:;base64,=">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
</head>
<body>
  <div id="map" style="height:100vh"></div>
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script>
  (async function(){
    const m=L.map('map').setView([-23.55,-47.55],9);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{maxZoom:19}).addTo(m);
    const r=await fetch('./meta.csv'); const t=await r.text();
    const data=Papa.parse(t,{header:true}).data;
    const ci=data[0]['Lat e Long km Inicial'].split(',');
    const cf=data[0]['Lat e Long km final'].split(',');
    L.polyline([[parseFloat(ci[0]),parseFloat(ci[1])],[parseFloat(cf[0]),parseFloat(cf[1])]],{color:'red'}).addTo(m);
  })();
  </script>
</body>
</html>
